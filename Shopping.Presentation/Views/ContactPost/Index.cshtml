<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us</title>

</head>
<body>

    <main role="main">
        <div class="Contact-Section">
            <div class="Contact-Area">
                <div class="container">
                    <div class="Row">
                        <div class="Column">
                            <h3>Contact Us</h3>
                            <p>we will probably not care but contact us</p>
                            <form id="contact_form" method="post" action="/ContactPostController/Contact" accept-charset="UTF-8" form-type="contact">
                                <div class="Address-Wrapper">

                                    <div id= class="Col">
                                        <div class="address-frame" id="contact-name">
                                            <input id="contact-Input-Name" name="FullName" type="text" placeholder="FullName" />
                                        </div>
                                    </div>

                                    <div class="Col">
                                        <div class="address-frame" id="contact-email">
                                            <input style="text-transform: none" id="contact-Input-Name" name="Email" type="email" placeholder="example@gmail.com" />
                                        </div>
                                    </div>

                                    <div class="Col-2">
                                        <div class="address-frame-subject" id="contact-subject">
                                            <input type="text" name="Subject" placeholder="Subject:" />
                                        </div>
                                    </div>

                                    <div class="Col-2">
                                        <div class="address-frame-textarea" id="contact-textarea">
                                            <input type="text" name="Content" placeholder="Your Text here:" />
                                        </div>
                                    </div>

                                </div>

                                <div class="Send-Email">
                                    <button class="Send-Email-Btn" type="submit">Submit</button>
                                </div>

                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>

        document.addEventListener('DOMContentLoaded', function () {
            const contactForm = document.getElementById('contact_form');
            const errorMessage = document.getElementById('subscribe-error-message');

            contactForm.addEventListener('submit', async function (event) {
                event.preventDefault();

                const formData = new FormData(contactForm);
                const requestData = Object.fromEntries(formData.entries());
                console.log('Form Data:', requestData); // Log form data to verify

                const response = await fetch('/ContactPost', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(requestData)
                });

                if (!response.ok) {
                    throw new Error('Failed to submit form.');
                }

                const jsonResponse = await response.json();
                if (jsonResponse.error) {
                    console.error('Form submission error:', jsonResponse.message);
                    // Handle error if needed
                } else {
                    alert('Form submitted successfully!');
                    // Handle success if needed
                }
            });
        });

        document.addEventListener("DOMContentLoaded", function () {
            const form = document.getElementById("contact_form");

            form.addEventListener("submit", function (event) {
                event.preventDefault();

                Toastify({
                    text: "Form submitted successfully!",
                    duration: 3000,
                    close: true,
                    gravity: "top",
                    position: "right",
                    backgroundColor: "linear-gradient(to right, #00b09b, #96c93d)",
                }).showToast();
            });
        });

    </script>

</body>
</html>